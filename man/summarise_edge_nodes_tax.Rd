% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/network.pro.R
\name{summarise_edge_nodes_tax}
\alias{summarise_edge_nodes_tax}
\title{Summarise taxonomy of nodes involved in a set of edges}
\usage{
summarise_edge_nodes_tax(
  edges,
  tax_table,
  var1_col = "var1",
  var2_col = "var2",
  id_col = "geneid",
  phylum_col = "Phylum",
  genus_col = "Genus",
  set_name = "edge_set"
)
}
\arguments{
\item{edges}{A data frame of edges, typically one of the edge tables from
\code{\link{compare_corr_two}} (e.g. \code{res_net$shared_edges} or
\code{res_net[["WT_only_edges"]]}).}

\item{tax_table}{A taxonomy table. Can be a data frame derived from
\code{phyloseq::tax_table(ps) \%>\% as.data.frame()} or any table with
per-node taxonomy.}

\item{var1_col}{Name of the column in \code{edges} giving the first node
ID of each edge (default \code{"var1"}).}

\item{var2_col}{Name of the column in \code{edges} giving the second node
ID of each edge (default \code{"var2"}).}

\item{id_col}{Name of the column in \code{tax_table} that stores node IDs
matching \code{var1_col} / \code{var2_col}. If \code{NULL}, row names of
\code{tax_table} are used as node IDs.}

\item{phylum_col}{Name of the phylum column in \code{tax_table}.}

\item{genus_col}{Name of the genus column in \code{tax_table}.}

\item{set_name}{Character label for this edge set (e.g. \code{"shared"},
\code{"WT"}, \code{"OE"}). Used in the output summaries.}
}
\value{
A list with components:
\itemize{
  \item \code{set_name}: The label used for this set.
  \item \code{nodes}: Character vector of unique node IDs appearing in
        the edge set.
  \item \code{node_tax}: Subset of \code{tax_table} corresponding to
        these nodes.
  \item \code{phylum_summary}: Data frame with counts and relative
        frequencies per phylum (\code{set}, \code{Phylum}, \code{n_nodes},
        \code{rel}).
  \item \code{genus_summary}: Data frame with counts and relative
        frequencies per genus (\code{set}, \code{Genus}, \code{n_nodes},
        \code{rel}).
}
}
\description{
This helper summarises the taxonomic composition (phylum/genus) of nodes
involved in a given edge set (e.g. \code{res_net$shared_edges} or a
condition-specific edge set from \code{\link{compare_corr_two}}).
}
\examples{
# edges <- res_net$shared_edges
# tax   <- phyloseq::tax_table(ps.micro) \%>\% as.data.frame()
# out   <- summarise_edge_nodes_tax(edges, tax, id_col = "geneid",
#                                   phylum_col = "Phylum", genus_col = "Genus",
#                                   set_name = "shared")

}
